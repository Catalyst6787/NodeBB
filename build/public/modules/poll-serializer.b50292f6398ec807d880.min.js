(self.webpackChunknodebb=self.webpackChunknodebb||[]).push([[41895],{30331:(p=>{"use strict";p.exports=function(u){var a={},o=/(?:(?:\[poll(?<settings>.*?)\])(?:\\n|\n|<br \/>)(?<content>(?:-.+?(?:\\n|\n|<br \/>))+)(?:\[\/poll\]))/g,g=/(?<key>.+?)=(?:"|&quot;|&#92;)(?<value>.+?)(?:"|&quot;|&#92;)/g,l={title:{test:function(t){return t.length>0},parse:function(t){return u.stripHTMLTags(t).trim()}},maxvotes:{test:function(t){return!isNaN(t)},parse:function(t){return parseInt(t,10)}},disallowVoteUpdate:{test:function(t){return/true|false/.test(t)},parse:function(t){return t==="true"||t===!0?1:0}},allowAnonVoting:{test:function(t){return/true|false/.test(t)},parse:function(t){return t==="true"||t===!0?1:0}},end:{test:function(t){return!isNaN(t)&&parseInt(t,10)>Date.now()},parse:function(t){return parseInt(t,10)}}};a.canSerialize=function(t){return o.lastIndex=0,o.test(t)},a.removeMarkup=function(t,r){return t.replace(o,r||"")},a.hasMarkup=function(t){return o.lastIndex=0,o.test(t)},a.serialize=function(t,r){o.lastIndex=0;var e=o.exec(t);return e===null?null:{options:h(e.groups.content,r),settings:m(e.groups.settings,r)}},a.deserialize=function(t,r){var e=d(t.options,r),s=w(t.settings,r);return"[poll"+s+`]
`+e+`
[/poll]`};function h(t,r){var e=[],s=t.split(/(?:\\n|\n|<br \/>)/);s.map(n=>u.stripHTMLTags(n));var i=parseInt(r.limits.maxOptions,10);return s.forEach(function(n){n.length&&(n=n.split("-").slice(1).join("-").trim(),n.length&&e.push(n))}),e.length>i&&(e=e.slice(0,i-1)),e}function d(t,r){var e=r.limits.maxOptions;return t=t.map(function(s){return u.stripHTMLTags(s).trim()}).filter(function(s){return s.length}),t.length>e&&(t=t.slice(0,e-1)),t.length?"- "+t.join(`
- `):""}function m(t,r){var e={};Object.keys(r.defaults).forEach(function(c){e[c]=r.defaults[c]});const s=u.stripHTMLTags(t).replace(/\\/g,"&#92;");let i;for(;(i=g.exec(s))!==null;){var n=i.groups.key.trim(),f=i.groups.value.trim();n.length&&f.length&&l.hasOwnProperty(n)&&l[n].test(f)&&(e[n]=l[n].parse(f))}return e}function w(t,r){var e="";for(var s of Object.keys(t))if(t.hasOwnProperty(s)&&r.defaults.hasOwnProperty(s)){var i=u.stripHTMLTags(s).trim(),n=u.stripHTMLTags(t[s]).trim();i.length&&n.length&&l.hasOwnProperty(i)&&l[i].test(n)&&(e+=" "+i+'="'+n+'"')}return e}return typeof window<"u"&&(window.Poll.serializer=a),a}}),63567:((p,u,a)=>{p.exports=a(30331)})}]);
